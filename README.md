# 原木制作，改了很多东西




# 望子成龙小学聊天室

## 项目介绍
聊天室是一个基于和go语言开发的聊天室项目，将前后端都部署在客户机，服务器只需部署数据库即可。实现了最简单的用户之间的聊天和消息推送、文件发送与接收功能。

## 项目特点
- 数据库使用redis。
- 服务端只提供数据中转，无需部署后端程序即可使用。
- 项目客户端程序已经编译打包完成，可以直接运行。
- 客户端程序使用webview进行渲染，建议在windows10 1902及以上版本的系统下运行。

> <p style="color: red;">！ 项目还在开发过程中，诸多问题待解决... ！</p>
> 后续会测试将本地部署的DeepSeek-R1接入聊天室，提供ai对话

## 数据库部署
1. 在服务器安装并配置redis数据库
> 安装教程请自行搜索...


1. 启动redis数据库
- 启动数据库命令请自行搜索...
- <p style="color: red;">请注意，redis数据库关闭后会清除所有数据，关闭服务器请提前备份好数据。</p>

## 项目配置文件
项目配置文件位于项目根目录的chatRoom.conf.json（运行一次程序后自动生成），包含以下内容：
```
{
  "RedisPassword": "123456",    # 数据库密码，此项不能为空，否则会进入聊天室地址配置页面。
  "RedisAddr": "0.0.0.0:6379",  # 数据库地址及端口，此项不能为空，否则会进入聊天室地址配置页面。
  "RedisDB": 0,                 # 存储聊天记录的数据库
  "GinPort": ":12306",          # 客户端运行时占用的端口号

}
```

> <p style="color: red;">！若你遇到因数据库地址变更而需要调整数据库地址，软件页面却无法打开时，请手动删除项目根目录的gin/chatRoom.conf.json文件，重新运行程序。</p>

用户配置文件位于项目根目录的user.conf.json（运行一次程序后自动生成），包含以下内容：
```
{
  "Id": "000",                # 用户id，此项不能为空，否则会进入登录注册页面。
  "Name": "迷糊老师",          # 用户昵称，此项不能为空
  "Level": 10,                # 用户等级，可以为空
  "Avatar": "",               # 用户头像，可以为空  ！此功能还未完成，请勿填写此项
  "Title": "高贵的群主",        # 用户头衔，可以为空
  "TitleColor": "#f5e50dbc",  # 用户头衔背景颜色，可以为空
  "Phone": ""                 # 用户手机号，可以为空
}
```

数据文件位于项目根目录的data.json，用于存储聊天记录，如需清理聊天记录请删除此文件，如需找回删除的聊天记录请将配置文件中的ListenerLastLen项修改为0。