"use strict";(self["webpackChunkchatroom"]=self["webpackChunkchatroom"]||[]).push([[94],{1241:function(e,t){t.A=(e,t)=>{const s=e.__vccOpts||e;for(const[a,n]of t)s[a]=n;return s}},3531:function(e,t,s){s.d(t,{A:function(){return i}});var a=s(6768);const n={id:"routeMask"};function r(e,t,s,r,u,l){return(0,a.uX)(),(0,a.CE)("div",n," 加载中... ")}var u={name:"routeMask",data(){return{routeMaskEle:null}},mounted(){this.routeMaskEle=document.querySelector("#routeMask"),setTimeout((()=>{this.routeMaskEle.classList.add("enter"),setTimeout((()=>{this.routeMaskEle.classList.add("waiting"),this.routeMaskEle.classList.remove("enter")}),300)}),100)}},l=s(1241);const o=(0,l.A)(u,[["render",r]]);var i=o},8094:function(e,t,s){s.r(t),s.d(t,{default:function(){return m}});s(8992),s(3949);var a=s(6768),n=s(5130),r=s(3531),u=s(144),l=s(9294),o=s(1219);const i={class:"container"},c={class:"inputBox address"},d={class:"inputBox password"};var v={__name:"address",setup(e){const t=(0,u.KR)(""),s=(0,u.KR)(""),v=(0,u.KR)(null),p=()=>{if(console.log("send"),t.value=t.value.trim(),s.value=s.value.trim(),""===t.value){const e=document.querySelector(".address");e.classList.remove("hasValue"),e.classList.add("error"),e.querySelector("input").addEventListener("input",(()=>{e.classList.remove("error")}))}if(""===s.value){const e=document.querySelector(".password");e.classList.remove("hasValue"),e.classList.add("error"),e.querySelector("input").addEventListener("input",(()=>{e.classList.remove("error")}))}if(""===t.value)return;v.value.setAttribute("disabled",!0),v.value.innerHTML="连接中...";const e=new FormData;e.append("address",t.value),e.append("password",s.value),e.append("db","0"),l.A.post("/address",e,{}).then((e=>{if(console.log(e),"200"==e.code){const e=document.querySelector("#routeMask");e.classList.add("leave"),e.classList.remove("waiting")}else o.nk.warning("聊天室地址或密码错误")})).finally((()=>{v.value.removeAttribute("disabled"),v.value.innerHTML="确定"}))};return(0,a.sV)((()=>{const e=document.querySelectorAll(".input");e.forEach((e=>{e.addEventListener("input",(()=>{""!==e.value?e.parentElement.classList.add("hasValue"):e.parentElement.classList.remove("hasValue")}))}))})),(e,u)=>{const l=(0,a.g2)("el-form");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(r.A),(0,a.Lk)("div",i,[u[4]||(u[4]=(0,a.Lk)("h1",null,"欢迎来到聊天室",-1)),(0,a.bF)(l,{onSubmit:(0,n.D$)(p,["prevent"])},{default:(0,a.k6)((()=>[(0,a.Lk)("div",c,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":u[0]||(u[0]=e=>t.value=e),class:"input",placeholder:"请输入聊天室的网络地址"},null,512),[[n.Jo,t.value]]),u[2]||(u[2]=(0,a.Lk)("span",null,"此项不能为空",-1))]),(0,a.Lk)("div",d,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":u[1]||(u[1]=e=>s.value=e),class:"input",placeholder:"请输入聊天室的密码"},null,512),[[n.Jo,s.value]]),u[3]||(u[3]=(0,a.Lk)("span",null,"警告：此聊天室没有设置密码",-1))]),(0,a.Lk)("button",{ref_key:"submitBtn",ref:v,class:"submitBtn",type:"submit"},"确定",512)])),_:1})])],64)}}};const p=v;var m=p}}]);
//# sourceMappingURL=94.93053972.js.map